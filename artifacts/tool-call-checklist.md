# Tool Call Checklist

- [x] containerization-assist-mcp/analyze-repo — Result: Go 1.19 gRPC project; module=helloworld; primary service=greeter_server on port 50051 (TCP/gRPC); client=greeter_client; build=CGO_ENABLED=0 go build ./greeter_server; no existing Dockerfile; pre-generated proto files committed; multi-stage build recommended (golang:1.19-alpine builder + distroless runtime)
- [x] containerization-assist-mcp/generate-dockerfile — Result: Dockerfile written to repo root. Multi-stage build (golang:1.19-alpine builder → gcr.io/distroless/static-debian11:nonroot runtime). CGO_ENABLED=0 GOOS=linux, -trimpath -ldflags="-s -w", go.mod/go.sum copied first for layer caching, binary at /greeter_server, EXPOSE 50051, ENTRYPOINT ["/greeter_server"], non-root via distroless :nonroot tag (uid 65532).
- [x] containerization-assist-mcp/fix-dockerfile — Result: 4 fixes applied: (1) added `mkdir -p /app` before go build to ensure output dir exists; (2) upgraded distroless base from debian11 to debian12; (3) added comment explaining why HEALTHCHECK is omitted (distroless/static has no shell); (4) created .dockerignore excluding .git, artifacts, IDE files, secrets, test output.
- [x] containerization-assist-mcp/build-image — Result: SUCCESS on retry after removing `apk add` (Alpine CDN blocked in build env). Image grpc-retry-fun:1.0 built — sha256:fa2cc38d63c9, 10.9 MB, uid 65532 (nonroot), EXPOSE 50051, ENTRYPOINT [/greeter_server]. Fix applied: removed `RUN apk add --no-cache git ca-certificates` (golang:1.19-alpine already ships with ca-certificates; go.sum present so git not needed).
- [x] containerization-assist-mcp/scan-image — Result: Scan completed (full output captured). Image: grpc-retry-fun:1.0 (sha256:fa2cc38d63c9, 10.9 MB, gcr.io/distroless/static-debian12:nonroot, go1.19.13, uid 65532). SBOM: 4 OS pkgs (base-files 12.4+deb12u13, netbase 6.4, tzdata 2025b-0+deb12u2, media-types 10.0.0) + 8 Go deps. TOTAL VULNS: 3 HIGH, 0 CRITICAL, 0 MEDIUM, 0 LOW. OS vulns: 0. Go dep vulns: 3 (all CVE-2023-44487 / HTTP/2 Rapid Reset) — (1) GHSA-4374-p667-p6c8: golang.org/x/net v0.14.0 HIGH (fix: ≥0.17.0); (2) GHSA-m425-mq94-257g: google.golang.org/grpc v1.57.0 HIGH (fix: ≥1.57.1 two advisory ranges). Go runtime go1.19.13 EOL; rebuild with Go ≥1.21.3 recommended.
- [x] containerization-assist-mcp/generate-k8s-manifests — Result: 3 manifests written to deploy/kubernetes/. namespace.yaml (kind=Namespace, wtf), deployment.yaml (kind=Deployment, apps/v1, grpc-retry-fun:1.0, port 50051, replicas=1, tcpSocket probes, podAntiAffinity, topologySpreadConstraints x2, allowPrivilegeEscalation=false, drop ALL caps, resources 100m/500m CPU 128Mi/512Mi mem, mandatory aks-desktop annotations), service.yaml (kind=Service, ClusterIP, port 50051→grpc named port). All 3 files pass YAML parse + deep structural validation (python yaml).
